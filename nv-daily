
Insert a column in vim

    Move the cursor to the first character in the first line  you want to push 
    Enter visual block mode (ctrlv).
    go down to end of the section
    Press I (capital i).
    Type in whatever you need to push.
    Press esc.

    rpm -qf == dpkg -S /usr/bin/some_file

dmidecode -t memory | grep Size

xe host-set-hostname-live host-uuid=3547a67b-e80a-45ee-8b2d-62e56314972a host-name=sdnbs2

Add storage to xen server
xe sr-create name-label=LV500 shared=false device-config:device=/dev/sdb type=lvm content-type=user



#sudo rpm -Uvh https://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-11.noarch.rpm
#sudo yum update

docker commit -m "added noodle" -a "ShaharK" 0bf00882600e shaharklein/ubuntu-noodle

docker pull shaharklein/ubuntu-noodle
docker run -it shaharklein/ubuntu-noodle

kubectl delete pods --all
kubectl create -f ./ubuntu.yaml
kubectl exec -it iperfk8s-server -- /bin/sh

dns: /etc/netplan/50-cloud-init.yaml

git tag -a test3.p.b 30e4ebd
git push origin test3.p.b
git config --get-regexp alias

ovs-vsctl set Open_vSwitch . other_config:n-revalidator-threads=4
ovs-vsctl set Open_vSwitch . other_config:n-handler-threads=10

rpm -qa  == apt list --installed

journalctl -f -u openvswitch-xapi-sync -u openvswitch
journalctl --boot=-1
systemctl show openvswitch.service | egrep "Want|Require|After|Before"
systemctl list-unit-files
systemctl list-unit-files | grep open

pull(update) forked project:
#git checkout master
#git pull https://github.com/openvswitch/ovn-kubernetes.git master
#git push origin master

https://github.com/nleiva/kubernetes-networking-links

kubectl describe node nd-sjc3a-c18-cpu-06
alias ml='kubectl -n ovn-kubernetes logs `kubectl -n ovn-kubernetes get pods -o wide | grep master | cut -f1 -d" "`'

Map eth to mlx in container:
for f in `ls /sys/class/infiniband/` ; do D=`cat /sys/class/infiniband/$f/ports/1/gid_attrs/ndevs/0 2>/dev/null` && echo "$f: $D" ; done

ovn-nbctl get logical_switch_port default_busybox external-ids
ovs-vsctl get Interface vif46.1 external-ids

systemctl stop openvswitch ; /usr/share/openvswitch/scripts/ovs-ctl --system-id=`cat /etc/openvswitch/system-id.conf` start ; /usr/share/openvswitch/scripts/ovs-ctl force-reload-kmod ; /usr/share/openvswitch/scripts/ovs-ctl stop ; systemctl start openvswitch
systemctl stop openvswitch ; /usr/share/openvswitch/scripts/ovs-ctl --system-id=`cat /etc/openvswitch/system-id.conf` start ; /usr/share/openvswitch/scripts/ovs-ctl --system-id=`cat /etc/openvswitch/system-id.conf` restart  ; /usr/share/openvswitch/scripts/ovs-ctl stop ; systemctl start openvswitch
wget -r --no-parent --no-check-certificate https://repo.nvsdn.net/ovs-ovn/dev/f6ea65c0488d/ubuntu/

https://sc-itss-02.nvidia.com/users/dns/staticip

'''
#print(" ".join(ipdb.by_name.keys()))
#print ipdb.by_name.keys()
#find /sys/class/net/*/device/vendor | xargs grep '0x15b3' | awk -F '/' '{print $5}' | xargs -I % sh -c 'stat /sys/class/net/%/device/physfn > /dev/null 2>&1 || echo %'

with IPRoute() as ipr:
    iface = ipr.link_lookup(ifname="enp132s0")
    print iface

cmd="find /sys/class/net/*/device/vendor | xargs grep '0x15b3' | awk -F '/' '{print $5}' | xargs -I % sh -c 'stat /sys/class/net/%/device/physfn > /dev/null 2>&1 || echo %' | xargs echo -n"

p = subprocess.Popen(cmd, stdout=subprocess.PIPE, shell=True)
(output, err) = p.communicate()
p_status = p.wait()
#print "Command output : ", output
L=list(output.split(" "))
for l in L:
    print l


'''


xen no splash screen:
Edit /boot/extlinux.conf and under the stanza for xe, remove the line which says splash or add nosplash to it

mst status -v
wget http://www.mellanox.com/downloads/MFT/mft-4.10.0-104-x86_64-deb.tgz
mlxconfig -d /dev/mst/mt4119_pciconf2 q 
mlxconfig -d /dev/mst/mt4119_pciconf1 set KEEP_ETH_LINK_UP_P1=False
pci map: basename `readlink /sys/class/net/enp132s0/device`

ip link add name bond1 type bond mode active-backup miimon 100
find /sys/class/net/*/device/vendor | xargs grep '0x15b3' | awk -F '/' '{print $5}' | xargs -I % sh -c 'stat /sys/class/net/%/device/physfn > /dev/null 2>&1 || echo %' | xargs echo -n

